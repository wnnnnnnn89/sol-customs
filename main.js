// Translations
const translations = {
    ko: {
        nav_about: "소개",
        nav_services: "서비스",
        nav_location: "오시는 길",
        nav_contact: "문의",
        nav_blog: "블로그",
        hero_subtitle: "Expert Customs Solution",
        hero_title: "신속하고 정확한<br>통관의 기준을 세우다",
        hero_desc: "솔 관세사무소는 풍부한 경험과 전문성을 바탕으로<br>고객님의 비즈니스에 최적화된 물류 혁신을 제안합니다.",
        hero_cta_consult: "상담 신청하기",
        hero_cta_blog: "공식 블로그",
        about_tag: "About Us",
        about_title: "신뢰를 바탕으로 한<br>최고의 통관 파트너",
        about_p1: "솔 관세사무소는 다년간의 실무 경험을 가진 전문 관세사가 직접 모든 과정을 책임지고 관리합니다.",
        about_p2: "단순한 통관 대행을 넘어, 복잡한 관세법령과 FTA 활용 전략을 분석하여 고객사의 실질적인 비용 절감과 리스크 관리를 지원합니다.",
        feature_consulting: "1:1 맞춤형 컨설팅",
        feature_realtime: "실시간 통관 진행 공유",
        services_tag: "Our Services",
        services_title: "비즈니스 가치를 높이는 전문 서비스",
        service1_title: "수출입 통관",
        service1_desc: "까다로운 통관 절차를 신속하고 정확하게 처리하여 물류 효율성을 극대화합니다.",
        service2_title: "관세 환급",
        service2_desc: "전문적인 검토를 통해 과다 납부된 세액을 환급받아 기업의 이익을 보호합니다.",
        service3_title: "FTA 컨설팅",
        service3_desc: "원산지 증명 및 FTA 협정 활용 전략을 통해 글로벌 경쟁력을 확보해 드립니다.",
        location_tag: "Location",
        location_title: "찾아오시는 길",
        location_address: "경기 성남시 분당구 판교역로 136 B2010",
        location_desc: "판교역과 직접 연결된 힐스테이트 업무상가로 오시면 됩니다.",
        location_map_btn: "네이버 지도로 보기",
        contact_tag: "Contact",
        contact_title: "빠른 상담 신청",
        contact_desc: "아래 양식을 작성해 주시면 담당 관세사가 직접 확인 후 연락드리겠습니다.",
        contact_tel: "Tel:",
        contact_fax: "Fax:",
        contact_hours: "<strong>영업시간:</strong> 평일 09:00 - 18:00",
        form_name_label: "이름/기업명",
        form_name_placeholder: "성함 또는 업체명을 입력하세요",
        form_contact_label: "연락처/이메일",
        form_contact_placeholder: "답변 받으실 연락처를 입력하세요",
        form_message_label: "문의내용",
        form_message_placeholder: "문의하실 내용을 상세히 적어주세요",
        form_submit: "상담 신청 보내기",
        footer_title: "솔 관세사무소",
        footer_rep: "대표자: 이지홍 | 사업자등록번호: 558-14-02071",
        footer_addr: "주소: 경기 성남시 분당구 판교역로 136 B2010",
        footer_tel_fax: "Tel: 0507-1391-1290 | Fax: 0508-911-1290",
        footer_copy: "&copy; 2021 솔 관세사무소. All Rights Reserved."
    },
    en: {
        nav_about: "About",
        nav_services: "Services",
        nav_location: "Location",
        nav_contact: "Contact",
        nav_blog: "Blog",
        hero_subtitle: "Expert Customs Solution",
        hero_title: "Setting the Standard<br>for Fast and Accurate Customs",
        hero_desc: "Sol Customs offers optimized logistics innovation for your business based on extensive experience and expertise.",
        hero_cta_consult: "Request Consultation",
        hero_cta_blog: "Official Blog",
        about_tag: "About Us",
        about_title: "Your Best Customs Partner<br>Based on Trust",
        about_p1: "At Sol Customs, professional customs attorneys with years of practical experience personally manage all processes.",
        about_p2: "Beyond simple customs brokerage, we support substantial cost reduction and risk management for our clients by analyzing complex customs laws and FTA strategies.",
        feature_consulting: "1:1 Personalized Consulting",
        feature_realtime: "Real-time Customs Progress Sharing",
        services_tag: "Our Services",
        services_title: "Professional Services that Enhance Business Value",
        service1_title: "Import & Export Customs",
        service1_desc: "We maximize logistics efficiency by processing demanding customs procedures quickly and accurately.",
        service2_title: "Duty Drawback",
        service2_desc: "We protect corporate profits by refunding overpaid taxes through professional reviews.",
        service3_title: "FTA Consulting",
        service3_desc: "We help you secure global competitiveness through certificates of origin and FTA agreement strategies.",
        location_tag: "Location",
        location_title: "How to Find Us",
        location_address: "B2010, 136 Pangyoyeok-ro, Bundang-gu, Seongnam-si, Gyeonggi-do",
        location_desc: "Please come to Hillstate Business Center, which is directly connected to Pangyo Station.",
        location_map_btn: "View on Naver Maps",
        contact_tag: "Contact",
        contact_title: "Quick Consultation Request",
        contact_desc: "Please fill out the form below, and our customs attorney will contact you after review.",
        contact_tel: "Tel:",
        contact_fax: "Fax:",
        contact_hours: "<strong>Business Hours:</strong> Weekdays 09:00 - 18:00",
        form_name_label: "Name/Company",
        form_name_placeholder: "Enter your name or company name",
        form_contact_label: "Contact/Email",
        form_contact_placeholder: "Enter your contact information for a response",
        form_message_label: "Message",
        form_message_placeholder: "Please describe your inquiry in detail",
        form_submit: "Send Request",
        footer_title: "Sol Customs",
        footer_rep: "CEO: Jihong Lee | Business Registration: 558-14-02071",
        footer_addr: "Address: B2010, 136 Pangyoyeok-ro, Bundang-gu, Seongnam-si, Gyeonggi-do",
        footer_tel_fax: "Tel: +82 507-1391-1290 | Fax: +82 508-911-1290",
        footer_copy: "&copy; 2021 Sol Customs. All Rights Reserved."
    }
};

function setLanguage(lang) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
            el.placeholder = translations[lang][key];
        }
    });

    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });

    // Update html lang attribute
    document.documentElement.lang = lang;
    
    // Save preference
    localStorage.setItem('preferred-lang', lang);
}

// Language Switcher Event Listeners
document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        setLanguage(lang);
    });
});

// Initialize Language
const savedLang = localStorage.getItem('preferred-lang') || 'ko';
setLanguage(savedLang);

// Smooth Scrolling
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const headerOffset = 80;
            const elementPosition = target.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }
    });
});

// Fade-in Animation on Scroll
const observerOptions = {
    threshold: 0.1
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, observerOptions);

document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
